<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="fun.huanghai.mall.dao.PmsProductDaoExpand">
  <resultMap id="expandMap" type="fun.huanghai.mall.pms.pojo.PmsProduct"
             extends="fun.huanghai.mall.dao.PmsProductMapper.BaseResultMap">
  </resultMap>

  <resultMap id="expandMapWithBLOBs" type="fun.huanghai.mall.pms.pojo.PmsProductWithBLOBs"
             extends="fun.huanghai.mall.dao.PmsProductMapper.ResultMapWithBLOBs" >
  </resultMap>

  <sql id="expandList" >
    ${alias}.id, ${alias}.brand_id, ${alias}.product_category_id, ${alias}.feight_template_id, ${alias}.product_attribute_category_id,
    ${alias}.name, ${alias}.pic, ${alias}.product_sn, ${alias}.delete_status, ${alias}.publish_status, ${alias}.new_status, ${alias}.recommand_status,
    ${alias}.verify_status, ${alias}.sort, ${alias}.sale, ${alias}.price, ${alias}.promotion_price, ${alias}.gift_growth, ${alias}.gift_point, ${alias}.use_point_limit,
    ${alias}.sub_title, ${alias}.original_price, ${alias}.stock, ${alias}.low_stock, ${alias}.unit, ${alias}.weight, ${alias}.preview_status, ${alias}.service_ids,
    ${alias}.keywords, ${alias}.note, ${alias}.album_pics, ${alias}.detail_title, ${alias}.promotion_start_time, ${alias}.promotion_end_time,
    ${alias}.promotion_per_limit, ${alias}.promotion_type, ${alias}.brand_name, ${alias}.product_category_name
  </sql>

  <sql id="expandBlobList" >
    description, detail_desc, detail_html, detail_mobile_html
  </sql>

  <update id="updateStatus">
    update pms_product
    set ${name} = #{val}
    where id in
    <foreach collection="ids" item="id" separator="," open="(" close=")">
      #{id,jdbcType=BIGINT}
    </foreach>
  </update>
</mapper>